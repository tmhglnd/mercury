"use strict";(self.webpackChunkmercury_docs=self.webpackChunkmercury_docs||[]).push([[316],{6045:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var l=r(4848),o=r(8453);const i={sidebar_position:7},c="\ud83d\udc69\u200d\ud83d\udcbb\ud83d\udc68\u200d\ud83d\udcbb Collaborative Coding",s={id:"collaborate",title:"\ud83d\udc69\u200d\ud83d\udcbb\ud83d\udc68\u200d\ud83d\udcbb Collaborative Coding",description:"You can code together in Mercury by using the amazing Flok live coding environment for the browser developed by Dami\xe1n Silvani (a.k.a. Munshkr). Flok is a web-based P2P collaborative editor for live coding music and graphics. Similar to Etherpad, but focused on code evaluation for livecoding.",source:"@site/docs/collaborate.md",sourceDirName:".",slug:"/collaborate",permalink:"/mercury/docs/collaborate",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"List Functions",permalink:"/mercury/docs/reference/list-functions"},next:{title:"\ud83d\udcdd Contribute",permalink:"/mercury/docs/contribute"}},t={},d=[{value:"Table of Content",id:"table-of-content",level:2},{value:"Flok &amp; MercuryPlayground",id:"flok--mercuryplayground",level:2},{value:"Flok &amp; MercuryPlayground Locally",id:"flok--mercuryplayground-locally",level:2},{value:"Flok &amp; Mercury4Max",id:"flok--mercury4max",level:2},{value:"Localhost",id:"localhost",level:3},{value:"Collaborate",id:"collaborate",level:3},{value:"Combine Mercury with Hydra",id:"combine-mercury-with-hydra",level:3},{value:"flok.cc with <code>mercury-web</code>",id:"flokcc-with-mercury-web",level:4},{value:"for Mac",id:"for-mac",level:4},{value:"for Windows",id:"for-windows",level:4}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"-collaborative-coding",children:"\ud83d\udc69\u200d\ud83d\udcbb\ud83d\udc68\u200d\ud83d\udcbb Collaborative Coding"}),"\n",(0,l.jsxs)(n.p,{children:["You can code together in Mercury by using the amazing ",(0,l.jsx)(n.a,{href:"https://flok.cc/",children:(0,l.jsx)(n.strong,{children:"Flok"})})," live coding environment for the browser developed by Dami\xe1n Silvani (a.k.a. Munshkr). Flok is a web-based P2P collaborative editor for live coding music and graphics. Similar to Etherpad, but focused on code evaluation for livecoding."]}),"\n",(0,l.jsx)(n.p,{children:"There are 3 options for how you can use Flok with Mercury:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Use Flok to combine Mercury with Hydra visuals (or other languages like Tidal, Foxdot and SuperCollider) on a localhost"}),"\n",(0,l.jsx)(n.li,{children:"Collaborate together in the same physical room (only requires 1 computer to run Mercury)"}),"\n",(0,l.jsx)(n.li,{children:"Collaborate remotely over a network (all computers need to run Mercury)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"table-of-content",children:"Table of Content"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#flok--mercuryplayground",children:"Flok & MercuryPlayground"})," ",(0,l.jsx)(n.em,{children:"recommended"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#flok--mercuryplayground-locally",children:"Flok & MercuryPlayground Locally"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#flok--mercury4max",children:"Flok & Mercury4Max"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#localhost",children:"Localhost"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#collaborate",children:"Collaborate"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#combine-mercury-with-hydra",children:"Combine Mercury with Hydra (Audioreactive Visuals)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsxs)(n.a,{href:"#flokcc-with-mercury-web",children:["flok.cc with ",(0,l.jsx)(n.code,{children:"mercury-web"})]})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#for-mac",children:"Mac (with Mercury local or Mercury Playground)"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#for-windows",children:"Windows (with Mercury local or Mercury Playground)"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"flok--mercuryplayground",children:"Flok & MercuryPlayground"}),"\n",(0,l.jsxs)(n.p,{children:["Follow these steps if you are a beginner and have been using the MercuryPlayground at ",(0,l.jsx)(n.a,{href:"https://mercury.timohoogland.com",children:"mercury.timohoogland.com"})]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open a Chromium based browser (eg. Brave, Arc) and go to ",(0,l.jsx)(n.a,{href:"https://flok.cc/",children:"https://flok.cc/"})]}),"\n",(0,l.jsx)(n.li,{children:"Choose a username."}),"\n",(0,l.jsxs)(n.li,{children:["Select the ",(0,l.jsx)(n.code,{children:"mercury-web"})," target from the dropdown menu in the topleft corner"]}),"\n",(0,l.jsxs)(n.li,{children:["Start typing some code! \ud83c\udfb5","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctrl/Alt + Enter"})," to play"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctrl/Alt + ."})," to silence"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsxs)(n.p,{children:["The first time you evaluate you might get a message ",(0,l.jsx)(n.code,{children:"Mercury engine still loading"}),". Just wait a little bit for all the soundfiles to load and the code will start as soon as the message ",(0,l.jsx)(n.code,{children:"Mercury engine ready!"})," pops up."]})}),"\n",(0,l.jsx)(n.h2,{id:"flok--mercuryplayground-locally",children:"Flok & MercuryPlayground Locally"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Install NodeJS ",(0,l.jsx)(n.a,{href:"https://nodejs.org/en",children:"for Mac"})," or ",(0,l.jsx)(n.a,{href:"https://nodejs.org/en",children:"for Windows"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Download the Mercury Playground via the Terminal. Navigate to the folder you want to install Mercury. Then run: ",(0,l.jsx)(n.code,{children:"git clone http://github.com/tmhglnd/mercury-playground"}),", or ",(0,l.jsx)(n.a,{href:"https://github.com/tmhglnd/mercury-playground/archive/refs/heads/main.zip",children:"download and unzip"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Navigate to the folder with: ",(0,l.jsx)(n.code,{children:"cd mercury-playground"})," (or ",(0,l.jsx)(n.code,{children:"cd mercury-playground-main"})," if downloaded)"]}),"\n",(0,l.jsxs)(n.li,{children:["Start the local server: ",(0,l.jsx)(n.code,{children:"npm start"}),", open a browser and go to ",(0,l.jsx)(n.a,{href:"http://localhost:8080",children:(0,l.jsx)(n.code,{children:"http://localhost:8080"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Install Flok via the Terminal/Command Prompt with ",(0,l.jsx)(n.code,{children:"npm install -g flok-repl"})," (or ",(0,l.jsx)(n.code,{children:"sudo npm install -g flok-repl"}),")","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Open Google Chrome and go to ",(0,l.jsx)(n.a,{href:"https://flok.cc/",children:"https://flok.cc/"})]}),"\n",(0,l.jsxs)(n.li,{children:["Setup Flok with target ",(0,l.jsx)(n.code,{children:"mercury"})," and click ",(0,l.jsx)(n.strong,{children:"Create session"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Copy the ",(0,l.jsx)(n.code,{children:"flok-repl -H xxx -s xxx -t mercury"})," command, paste in the terminal and run."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Join"})," the Flok with your nickname."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Now start typing some code! \ud83c\udfb5","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctrl/Alt + Enter"})," to play"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctrl/Alt + ."})," to silence"]}),"\n",(0,l.jsxs)(n.li,{children:["Flok will send the entire code via OSC messaging to port ",(0,l.jsx)(n.code,{children:"4880"}),". Mercury is listening to this port automatically."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"flok--mercury4max",children:"Flok & Mercury4Max"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"Follow these steps for local use, advanced use or if you're already familiar with the Mercury standalone in Max8"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Install NodeJS ",(0,l.jsx)(n.a,{href:"https://nodejs.org/en",children:"for Mac"})," or ",(0,l.jsx)(n.a,{href:"https://nodejs.org/en",children:"for Windows"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Install the latest version of Mercury via the ",(0,l.jsx)(n.a,{href:"https://github.com/tmhglnd/mercury/blob/master/docs/quick-start.md",children:"quick start guide"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Install Flok repl and web via the Terminal with ",(0,l.jsx)(n.code,{children:"npm install -g flok-web flok-repl"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"localhost",children:"Localhost"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Run ",(0,l.jsx)(n.code,{children:"flok-web"})," in the terminal"]}),"\n",(0,l.jsxs)(n.li,{children:["Open Google Chrome and go to ",(0,l.jsx)(n.code,{children:"localhost:3000"})]}),"\n",(0,l.jsxs)(n.li,{children:["Setup Flok with target ",(0,l.jsx)(n.code,{children:"mercury"})," (and optionally other targets like ",(0,l.jsx)(n.code,{children:"hydra"}),") and click ",(0,l.jsx)(n.strong,{children:"Create session"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Copy the ",(0,l.jsx)(n.code,{children:"flok-repl -H xxx -s xxx -t mercury"})," command and run in the terminal."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Join"})," the Flok with your nickname."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"collaborate",children:"Collaborate"}),"\n",(0,l.jsx)(n.p,{children:"Now follow these steps for a succesful setup."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open Google Chrome and go to ",(0,l.jsx)(n.a,{href:"https://flok.cc/",children:"https://flok.cc/"})]}),"\n",(0,l.jsxs)(n.li,{children:["Setup Flok with target ",(0,l.jsx)(n.code,{children:"mercury"})," and click ",(0,l.jsx)(n.strong,{children:"Create session"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Copy the ",(0,l.jsx)(n.code,{children:"flok-repl -H xxx -s xxx -t mercury"})," command and run in the terminal."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Join"})," the Flok with your nickname."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Now start typing some code! \ud83c\udfb5"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctrl/Alt + Return"})," to evaluate"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctrl/Alt + ."})," to silence"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Flok will send the entire code via OSC messaging to port 4880. Mercury should be listening to this port automatically."}),"\n",(0,l.jsx)(n.h3,{id:"combine-mercury-with-hydra",children:"Combine Mercury with Hydra"}),"\n",(0,l.jsx)(n.p,{children:"For creating Audioreactive Visuals. Follow this guide if you like to let Hydra react to the sounds that you code with Mercury when using Flok."}),"\n",(0,l.jsxs)(n.h4,{id:"flokcc-with-mercury-web",children:["flok.cc with ",(0,l.jsx)(n.code,{children:"mercury-web"})]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open a panel for ",(0,l.jsx)(n.code,{children:"mercury-web"})," and a panel for ",(0,l.jsx)(n.code,{children:"hydra"})]}),"\n",(0,l.jsx)(n.li,{children:"Create some code in mercury that generates sound and run it"}),"\n",(0,l.jsxs)(n.li,{children:["The amplitude of the total sound is stored in the variable ",(0,l.jsx)(n.code,{children:"m"}),", this can be used in Hydra"]}),"\n",(0,l.jsxs)(n.li,{children:["Use the variable in a function with: ",(0,l.jsx)(n.code,{children:"() => m"})]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"osc(10, 0, () => m * 4 ).out()\n"})}),"\n",(0,l.jsx)(n.h4,{id:"for-mac",children:"for Mac"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"With Mercury local or Mercury Playground"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Install ",(0,l.jsx)(n.a,{href:"https://existential.audio/blackhole/",children:"blackhole"})," for virtual audio routing"]}),"\n",(0,l.jsxs)(n.li,{children:["Open ",(0,l.jsx)(n.code,{children:"Audio MIDI Setup"})," in your Applications"]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.code,{children:"+"})," in left-bottom corner and then ",(0,l.jsx)(n.code,{children:"Create Multi-Output Device"})]}),"\n",(0,l.jsxs)(n.li,{children:["Select both ",(0,l.jsx)(n.code,{children:"Built-in Output"})," and ",(0,l.jsx)(n.code,{children:"Blackhole"})," (if blackhole is not listed restart the computer first)"]}),"\n",(0,l.jsxs)(n.li,{children:["Start Mercury and under ",(0,l.jsx)(n.code,{children:"Settings"})," > ",(0,l.jsx)(n.code,{children:"Audio Setup"})," change the output to the ",(0,l.jsx)(n.code,{children:"Multi-Output Device"})]}),"\n",(0,l.jsxs)(n.li,{children:["Open Google Chrome and setup Flok as described under ",(0,l.jsx)(n.a,{href:"#collaborate",children:"Collaborate"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click the ",(0,l.jsx)(n.code,{children:"Microphone"})," icon and selecte ",(0,l.jsx)(n.code,{children:"Manage"})]}),"\n",(0,l.jsxs)(n.li,{children:["Select ",(0,l.jsx)(n.code,{children:"Blackhole (Virtual)"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"for-windows",children:"for Windows"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"with Mercury local or Mercury Playground"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Install ",(0,l.jsx)(n.a,{href:"https://vb-audio.com/Cable/index.htm",children:"vbcables"})," for virtual audio routing"]}),"\n",(0,l.jsx)(n.li,{children:"More steps are needed but this has not been tested on Windows, please contribute to this documentation if you know the steps"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Both"})}),"\n",(0,l.jsx)(n.p,{children:"Now start coding some Mercury and Hydra code! \ud83d\udcdf"}),"\n",(0,l.jsxs)(n.p,{children:["To create audio reactive visuals with hydra use the FFT audio object accessible via the ",(0,l.jsx)(n.code,{children:"a"})," object. Below is some example code for hydra that you can use."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"a.show() \n//=> show the FFT bins audio amplitude\n\na.setBins(6)\n//=> set the amount of FFT bins to extract from the sound (low -> high frequencies)\n\nosc(10, 0, () => a.fft[0]*4 ).out()\n//=> choose a bin index and modulate a parameter with function return\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>s});var l=r(6540);const o={},i=l.createContext(o);function c(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);